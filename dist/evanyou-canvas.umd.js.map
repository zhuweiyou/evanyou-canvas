{"version":3,"file":"evanyou-canvas.umd.js","sources":["../src/index.js"],"sourcesContent":["export default function evanyouCanvas(parentElement, documentClick = true) {\n  const element = create(parentElement);\n  const update = drawCanvas(element);\n  if (documentClick) {\n    document.addEventListener(\"click\", update);\n  }\n  return {\n    element,\n    update,\n  };\n}\n\nfunction create(parentElement) {\n  const element = document.createElement(\"canvas\");\n  element.setAttribute(\n    \"style\",\n    `position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;pointer-events:none`\n  );\n  parentElement.prependChild(element);\n  return element;\n}\n\nfunction drawCanvas(c) {\n  let x = c.getContext(\"2d\"),\n    pr = window.devicePixelRatio || 1,\n    w = window.innerWidth,\n    h = window.innerHeight,\n    f = 90,\n    q,\n    m = Math,\n    r = 0,\n    u = m.PI * 2,\n    v = m.cos,\n    z = m.random;\n  c.width = w * pr;\n  c.height = h * pr;\n  x.scale(pr, pr);\n  x.globalAlpha = 0.6;\n\n  function i() {\n    x.clearRect(0, 0, w, h);\n    q = [\n      { x: 0, y: h * 0.7 + f },\n      { x: 0, y: h * 0.7 - f },\n    ];\n    while (q[1].x < w + f) d(q[0], q[1]);\n  }\n\n  function d(i, j) {\n    x.beginPath();\n    x.moveTo(i.x, i.y);\n    x.lineTo(j.x, j.y);\n    var k = j.x + (z() * 2 - 0.25) * f,\n      n = y(j.y);\n    x.lineTo(k, n);\n    x.closePath();\n    r -= u / -50;\n    x.fillStyle =\n      \"#\" +\n      (\n        ((v(r) * 127 + 128) << 16) |\n        ((v(r + u / 3) * 127 + 128) << 8) |\n        (v(r + (u / 3) * 2) * 127 + 128)\n      ).toString(16);\n    x.fill();\n    q[0] = q[1];\n    q[1] = { x: k, y: n };\n  }\n\n  function y(p) {\n    const t = p + (z() * 2 - 1.1) * f;\n    return t > h || t < 0 ? y(p) : t;\n  }\n\n  i();\n  return i;\n}\n"],"names":["parentElement","documentClick","element","document","createElement","setAttribute","prependChild","create","update","c","q","x","getContext","pr","window","devicePixelRatio","w","innerWidth","h","innerHeight","f","m","Math","r","u","PI","v","cos","z","random","i","clearRect","y","d","j","beginPath","moveTo","lineTo","k","n","p","t","closePath","fillStyle","toString","fill","width","height","scale","globalAlpha","drawCanvas","addEventListener"],"mappings":"mLAAe,SAAuBA,EAAeC,mBAAgB,OAC7DC,EAWR,SAAgBF,OACRE,EAAUC,SAASC,cAAc,iBACvCF,EAAQG,aACN,QACC,wFAEHL,EAAcM,aAAaJ,GACpBA,EAlBSK,CAAOP,GACjBQ,EAoBR,SAAoBC,OAMhBC,EALEC,EAAIF,EAAEG,WAAW,MACnBC,EAAKC,OAAOC,kBAAoB,EAChCC,EAAIF,OAAOG,WACXC,EAAIJ,OAAOK,YACXC,EAAI,GAEJC,EAAIC,KACJC,EAAI,EACJC,EAAW,EAAPH,EAAEI,GACNC,EAAIL,EAAEM,IACNC,EAAIP,EAAEQ,gBAMCC,QACPnB,EAAEoB,UAAU,EAAG,EAAGf,EAAGE,GACrBR,EAAI,CACF,CAAEC,EAAG,EAAGqB,EAAO,GAAJd,EAAUE,GACrB,CAAET,EAAG,EAAGqB,EAAO,GAAJd,EAAUE,IAEhBV,EAAE,GAAGC,EAAIK,EAAII,GAAGa,EAAEvB,EAAE,GAAIA,EAAE,aAG1BuB,EAAEH,EAAGI,GACZvB,EAAEwB,YACFxB,EAAEyB,OAAON,EAAEnB,EAAGmB,EAAEE,GAChBrB,EAAE0B,OAAOH,EAAEvB,EAAGuB,EAAEF,OACZM,EAAIJ,EAAEvB,GAAW,EAANiB,IAAU,KAAQR,EAC/BmB,WAgBKP,EAAEQ,OACHC,EAAID,GAAW,EAANZ,IAAU,KAAOR,SACzBqB,EAAIvB,GAAKuB,EAAI,EAAIT,EAAEQ,GAAKC,EAlBzBT,CAAEE,EAAEF,GACVrB,EAAE0B,OAAOC,EAAGC,GACZ5B,EAAE+B,YAEF/B,EAAEgC,UACA,KAEW,IAAPjB,EAJNH,GAAKC,GAAK,IAIS,KAAQ,GACN,IAAfE,EAAEH,EAAIC,EAAI,GAAW,KAAQ,EACT,IAArBE,EAAEH,EAAKC,EAAI,EAAK,GAAW,KAC5BoB,SAAS,IACbjC,EAAEkC,OACFnC,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAK,CAAEC,EAAG2B,EAAGN,EAAGO,UAhCpB9B,EAAEqC,MAAQ9B,EAAIH,EACdJ,EAAEsC,OAAS7B,EAAIL,EACfF,EAAEqC,MAAMnC,EAAIA,GACZF,EAAEsC,YAAc,GAqChBnB,IACOA,EAzEQoB,CAAWhD,UACtBD,GACFE,SAASgD,iBAAiB,QAAS3C,GAE9B,SACLN,SACAM"}