{"version":3,"file":"evanyou-canvas.js","sources":["../src/index.js"],"sourcesContent":["import './index.css'\n\nexport default function evanyouCanvas() {\n  const canvas = document.createElement('canvas')\n  canvas.className = 'evanyou-canvas'\n  const updateCanvas = drawCanvas(canvas)\n  document.addEventListener('click', updateCanvas)\n  return {\n    canvas,\n    updateCanvas,\n    offClick: () => document.removeEventListener('click', updateCanvas),\n  }\n}\n\nfunction drawCanvas(c) {\n  let x = c.getContext('2d'),\n    pr = window.devicePixelRatio || 1,\n    w = window.innerWidth,\n    h = window.innerHeight,\n    f = 90,\n    q,\n    m = Math,\n    r = 0,\n    u = m.PI * 2,\n    v = m.cos,\n    z = m.random\n  c.width = w * pr\n  c.height = h * pr\n  x.scale(pr, pr)\n  x.globalAlpha = 0.6\n\n  function i() {\n    x.clearRect(0, 0, w, h)\n    q = [\n      { x: 0, y: h * 0.7 + f },\n      { x: 0, y: h * 0.7 - f },\n    ]\n    while (q[1].x < w + f) d(q[0], q[1])\n  }\n\n  function d(i, j) {\n    x.beginPath()\n    x.moveTo(i.x, i.y)\n    x.lineTo(j.x, j.y)\n    var k = j.x + (z() * 2 - 0.25) * f,\n      n = y(j.y)\n    x.lineTo(k, n)\n    x.closePath()\n    r -= u / -50\n    x.fillStyle =\n      '#' +\n      (\n        ((v(r) * 127 + 128) << 16) |\n        ((v(r + u / 3) * 127 + 128) << 8) |\n        (v(r + (u / 3) * 2) * 127 + 128)\n      ).toString(16)\n    x.fill()\n    q[0] = q[1]\n    q[1] = { x: k, y: n }\n  }\n\n  function y(p) {\n    const t = p + (z() * 2 - 1.1) * f\n    return t > h || t < 0 ? y(p) : t\n  }\n\n  i()\n  return i\n}\n"],"names":["canvas","document","createElement","className","updateCanvas","c","q","x","getContext","pr","window","devicePixelRatio","w","innerWidth","h","innerHeight","m","Math","r","u","PI","v","cos","z","random","i","clearRect","y","d","j","beginPath","moveTo","lineTo","k","n","closePath","fillStyle","toString","fill","p","t","width","height","scale","globalAlpha","drawCanvas","addEventListener","offClick","removeEventListener"],"mappings":"0BAGE,IAAMA,EAASC,SAASC,cAAc,UACtCF,EAAOG,UAAY,iBACnB,IAAMC,EASR,SAAoBC,GAClB,IAKEC,EALEC,EAAIF,EAAEG,WAAW,MACnBC,EAAKC,OAAOC,kBAAoB,EAChCC,EAAIF,OAAOG,WACXC,EAAIJ,OAAOK,YAGXC,EAAIC,KACJC,EAAI,EACJC,EAAW,EAAPH,EAAEI,GACNC,EAAIL,EAAEM,IACNC,EAAIP,EAAEQ,OAMR,SAASC,IAMP,IALAlB,EAAEmB,UAAU,EAAG,EAAGd,EAAGE,GACrBR,EAAI,CACF,CAAEC,EAAG,EAAGoB,EAAO,GAAJb,EAfT,IAgBF,CAAEP,EAAG,EAAGoB,EAAO,GAAJb,EAhBT,KAkBGR,EAAE,GAAGC,EAAIK,EAlBZ,IAkBmBgB,EAAEtB,EAAE,GAAIA,EAAE,IAGnC,SAASsB,EAAEH,EAAGI,GACZtB,EAAEuB,YACFvB,EAAEwB,OAAON,EAAElB,EAAGkB,EAAEE,GAChBpB,EAAEyB,OAAOH,EAAEtB,EAAGsB,EAAEF,GAChB,IAAIM,EAAIJ,EAAEtB,EAzBN,IAyBiB,EAANgB,IAAU,KACvBW,EAAIP,EAAEE,EAAEF,GACVpB,EAAEyB,OAAOC,EAAGC,GACZ3B,EAAE4B,YAEF5B,EAAE6B,UACA,KAEW,IAAPf,EAJNH,GAAKC,GAAK,IAIS,KAAQ,GACN,IAAfE,EAAEH,EAAIC,EAAI,GAAW,KAAQ,EACT,IAArBE,EAAEH,EAAKC,EAAI,EAAK,GAAW,KAC5BkB,SAAS,IACb9B,EAAE+B,OACFhC,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAK,CAAEC,EAAG0B,EAAGN,EAAGO,GAGpB,SAASP,EAAEY,GACT,IAAMC,EAAID,EA3CN,IA2CiB,EAANhB,IAAU,KACzB,OAAOiB,EAAI1B,GAAK0B,EAAI,EAAIb,EAAEY,GAAKC,EAIjC,OAzCAnC,EAAEoC,MAAQ7B,EAAIH,EACdJ,EAAEqC,OAAS5B,EAAIL,EACfF,EAAEoC,MAAMlC,EAAIA,GACZF,EAAEqC,YAAc,GAqChBnB,IACOA,EA9DcoB,CAAW7C,GAEhC,OADAC,SAAS6C,iBAAiB,QAAS1C,GAC5B,CACLJ,OAAAA,EACAI,aAAAA,EACA2C,SAAU,kBAAM9C,SAAS+C,oBAAoB,QAAS5C"}